<html>

<head>
    <meta charset="utf-8" />
    <title>日历</title>
    <script type="text/javascript">
        //判断year是否为闰年，如果year是闰年，返回true，否则返回false
        function isBissextile(year) {
            var bissextile = false;
            if (year % 4 == 0) {
                bissextile = true;
            }
            if (year % 100 != 0 && year % 4 == 0) {
                bissextile = true;
            }

            return bissextile;
        }

        //在网页中打印year年month月份的日历
        function printCalendar(year, month) {
            var aDate = new Date(year, month, 1);
            var week = aDate.getDay();

            //计算month月份的天数
            var numOfMonth;
            if (month == 0 || month == 2 || month == 4 || month == 6 || month == 7 || month == 9 || month == 11) {
                numOfMonth = 31;
            } else if (month == 3 || month == 5 || month == 8 || month == 10) {
                numOfMonth = 30;
            } else if (isBissextile()) { //闰年二月是29天
                numOfMonth = 29;
            } else {
                numOfMonth = 28;
            }

            //创建一个日期数组
            var dayArray = new Array(week + numOfMonth);
            for (var i = 0; i < week; i++) {
                dayArray[i] = "  ";
            }
            var indexOfToday = 0;
            for (var i = week, j = 1; i < dayArray.length; i++ , j++) {
                dayArray[i] = "" + j;
            }

            //打印输出日历表
            document.write("<table>");
            document.write("<tr><th colspan=7>" + year + "年" + (month + 1) + "月</th></tr>");
            document.write("<tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr>");
            for (var i = 0; i < dayArray.length; i += 7) {
                document.write("<tr>");
                for (var j = i; j < dayArray.length && j < i + 7; j++) {
                    document.write("<td>" + dayArray[j] + "</td>");
                }
                document.write("</tr>");
            }
            document.write("</table>")
        }
    </script>
</head>

<body>
    <script type="text/javascript">
        var currDate = new Date();
        var currYear = currDate.getFullYear();
        var currMonth = currDate.getMonth() + 1;
        var defaultVal = currYear + "-" + currMonth;
        var rq = currYear + "-" + currMonth;
        var yearAndMonth = rq.split("-");
        var year = parseInt(yearAndMonth[0]);
        var month = parseInt(yearAndMonth[1]) - 1;
        printCalendar(year, month);
    </script>
</body>

</html>
